<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <title>SimpleSlideView Demo (Responsive)</title>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/responsive.css">
  <script src="../vendor/modernizr.custom.js"></script>
</head>
<body>

<div class="island masthead">
  <h1>SimpleSlideView</h1>
  <p>A nifty little <a href="http://jquery.com/">jQuery</a> or <a href="http://zeptojs.com/">Zepto</a> plugin for the simplest of sliding views.</p>
</div>

<div class="views clearfix">

  <div class="view" id="nav">
    <ul>
      <li><a class="is-active" href="#what" data-pushview>What it does</a></li>
      <li><a href="#how" data-pushview>How it works</a></li>
      <li><a href="#where" data-pushview>Where to get it</a></li>
    </ul>
  </div>

  <div class="view is-active" id="what">
    <div class="view-content">
      <h2>What it does</h2>
      <p>Sliding views let you present content in distinct, bite-sized chunks while maintaining hierarchy through the use of spacial animation. They look neat, too.</p>
      <p>There are many wonderful JavaScript frameworks out there that pull this off beautifully... but they can get kind of complicated. When your needs are simple or responsive, <b>SimpleSlideView</b> may do the trick.</p>
      <ul class="view-nav clearfix">
        <li class="view-nav-contents"><a href="#nav" data-popview>Contents</a></li>
        <li class="view-nav-next"><a href="#how" data-pushview>How it works</a></li>
      </ul>
    </div>
  </div>

  <div class="view" id="how">
    <div class="view-content">
      <h2>How it works</h2>
      <p>The plugin only needs a few ingredients to work:</p>
      <ul>
        <li>Either <a href="http://jquery.com/">jQuery</a> or <a href="http://zeptojs.com/">Zepto</a>.</li>
        <li>A containing element.</li>
        <li>Some special <code>data-pushview</code> and <code>data-popview</code> attributes on elements you want to trigger slides.</li>
      </ul>
      <p>Then call...</p>
      <pre><code>$(myContainer).simpleSlideView();</code></pre>
      <p>...and bob&rsquo;s your uncle!</p>
      <p>Okay, there&rsquo;s a <em>little</em> more to it than that (especially if you want to customize a bunch of stuff). But not much.</p>
      <ul class="view-nav clearfix">
        <li class="view-nav-contents"><a href="#nav" data-popview>Contents</a></li>
        <li class="view-nav-next"><a href="#where" data-pushview>Where to get it</a></li>
      </ul>
    </div>
  </div>

  <div class="view" id="where">
    <div class="view-content">
      <h2>Where to get it</h2>
      <p>All this (plus documentation and source files) can be yours <em>right now</em> thanks to the magic of GitHub and open source software. Isn&rsquo;t life great?</p>
      <ul class="view-nav clearfix">
        <li class="view-nav-contents"><a href="#nav" data-popview>Contents</a></li>
        <li class="view-nav-next"><a class="btn" href="https://github.com/cloudfour/SimpleSlideView">View on GitHub</a></li>
      </ul>
    </div>
  </div>

</div>

<div class="island byline clearfix">
  <p class="pull-left">Made by <a href="http://cloudfour.com">Cloud Four</a></p>
  <p class="pull-right"><a href="index.html">Simple demo &raquo;</a></p>
</div>

<script src="../vendor/fastclick.js"></script>
<script>
var useZepto = ('__proto__' in {})
  , lib = useZepto ? 'zepto' : 'jquery'
  , scrollPlugin = useZepto ? 'scroll' : 'scrollTo';
document.write(
  '<script src=../vendor/' + lib + '.min.js><\/script>' +
  '<script src=../vendor/' + lib + '.' + scrollPlugin + '.min.js><\/script>'
);
</script>
<script src="../lib/simpleslideview.min.js"></script>
<script>

var $window = $(window)
  , $viewContainer = $('.views')
  , options = {
      deferOn: ($window.width() >= 768),
      duration: 250
    }
  , slideView;

$viewContainer.on('slideViewDeferred slideViewOff', function () {
  $('a[data-pushview]').on('click', function (event) {
    var href = $(this).attr('href')
      , $target = $(href)
      , $nav;
    if ($target.length) {
      event.preventDefault();
      $target.addClass('is-active');
      $nav = $('#nav');
      $nav.find('.is-active').removeClass('is-active');
      $nav.find('[href="' + href + '"]').addClass('is-active');
      $target.siblings().removeClass('is-active');
    }
  });
}).on('slideViewBeforeOn', function () {
  $('a[data-pushview]').off('click');
});

slideView = $viewContainer.simpleSlideView(options);

$window.on('resize', function(){
  if ($window.width() >= 768) {
    slideView.off();
  } else {
    slideView.on();
  }
});

</script>

</body>
</html>
