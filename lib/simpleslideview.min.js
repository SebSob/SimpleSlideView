!function(a,b){var c,d,e,f,g,h,i;return i=null!=a.scrollTo?function(b,c,d){return a.scrollTo(b,c,{axis:"y",onAfter:d})}:function(a,c,d){return b.scrollTo(0,a),d?d():void 0},d={views:".view",activeView:null,deferOn:!1,duration:null!=a.fx&&null!=a.fx.cssPrefix?a.fx.speeds._default:400,easing:"swing",useTransformProps:!1,use3D:"undefined"!=typeof Modernizr&&null!==Modernizr&&Modernizr.csstransforms3d,cssPrefix:null!=a.fx&&null!=a.fx.cssPrefix?a.fx.cssPrefix:"",resizeHeight:!0,heightDuration:null,concurrentHeightChange:!0,scrollOn:"start",scrollCallback:i,scrollDuration:null,scrollToContainerTop:!0,concurrentScroll:!0,maintainViewportHeight:null,dataAttrEvent:"click",dataAttr:{push:"pushview",pop:"popview"},classNames:{container:"SimpleSlideView-container",view:"SimpleSlideView-view",activeView:"SimpleSlideView-view-active"},eventNames:{on:"slideViewOn",off:"slideViewOff",beforeOn:"slideViewBeforeOn",beforeOff:"slideViewBeforeOff",deferred:"slideViewDeferred",viewChangeStart:"viewChangeStart",viewChangeEnd:"viewChangeEnd"}},h=function(b,c){var d,e,f,g,h;for(d=a(b),e={},g=0,h=c.length;h>g;g++)f=c[g],e[f]="";return d.css(e)},e=function(b){return null!=a.fn.outerHeight?a(b).outerHeight():a(b).height()},f=function(b){return null!=a.fn.outerWidth?a(b).outerWidth():a(b).width()},g=function(a,b,c){return null==b&&(b=!0),null==c&&(c=!1),"push"===a?b:c},c=function(){function c(c,e){this.options=a.extend(!0,{},d,e),null==this.options.heightDuration&&(this.options.heightDuration=this.options.duration),null==this.options.scrollDuration&&(this.options.scrollDuration=this.options.duration),null==this.options.maintainViewportHeight&&(this.options.maintainViewportHeight=this.options.resizeHeight&&this.options.scrollOnStart),null==b.innerHeight&&(this.options.maintainViewportHeight=!1),this.$container=a(c),this.$views="string"==typeof this.options.views?this.$container.find(this.options.views):a(this.options.views),this.$activeView=null!=this.options.activeView?a(this.options.activeView):this.$views.first(),this.isActive=!1,this.options.deferOn?this.$container.trigger(this.options.eventNames.deferred):this.on()}return c.prototype.on=function(){return this.isActive?void 0:(this.$container.trigger(this.options.eventNames.beforeOn),this.queue=[],this.isActive=!0,this.isSliding=!1,this.$container.addClass(this.options.classNames.container),this.$views.addClass(this.options.classNames.view),this.$activeView.addClass(this.options.classNames.activeView),this.$views.not(this.$activeView).css("display","none"),this.options.maintainViewportHeight&&(this.lastViewportHeight=b.innerHeight),null!=this.options.dataAttrEvent&&(this.$container.on(this.options.dataAttrEvent,"[data-"+this.options.dataAttr.push+"]",function(b){return function(c){var d,e;return d=a(c.currentTarget),e=d.data(b.options.dataAttr.push),e.length||(e=d.attr("href")),e.length?(c.preventDefault(),b.pushView(e)):void 0}}(this)),this.$container.on(this.options.dataAttrEvent,"[data-"+this.options.dataAttr.pop+"]",function(b){return function(c){var d,e;return d=a(c.currentTarget),e=d.data(b.options.dataAttr.pop),e.length||(e=d.attr("href")),e.length?(c.preventDefault(),b.popView(e)):void 0}}(this))),this.$container.trigger(this.options.eventNames.on))},c.prototype.off=function(){return this.isActive?(this.$container.trigger(this.options.eventNames.beforeOff),this.queue=[],this.isActive=!1,this.isSliding=!1,this.$container.removeClass(this.options.classNames.container),this.$views.removeClass(this.options.classNames.view+" "+this.options.classNames.activeView),this.$views.css("display",""),this.options.maintainViewportHeight&&a("html").css("min-height",""),null!=this.options.dataAttrEvent&&(this.$container.off(this.options.dataAttrEvent,"[data-"+this.options.dataAttr.push+"]"),this.$container.off(this.options.dataAttrEvent,"[data-"+this.options.dataAttr.pop+"]")),this.$container.trigger(this.options.eventNames.off)):void 0},c.prototype.toggle=function(a){return null==a&&(a=!this.isActive),a?this.on():this.off()},c.prototype.changeView=function(c,d){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(j=a(c),j.length&&j[0]!==this.$activeView[0]){if(l=arguments,this.isSliding||this.queue.length)return this.queue.push(l);if(this.isSliding=!0,this.$container.trigger(this.options.eventNames.viewChangeStart,l),i=this.$activeView.add(j),u={},r={},v=["left","position","top","width"],q=f(this.$container),p={height:e(this.$container),overflow:"hidden",position:"relative",width:"100%"},k={},w={},n={position:"absolute",top:0,width:q},this.options.useTransformProps?(x=this.options.cssPrefix+"transform",z=this.options.use3D?"translate3d(":"translateX(",y=this.options.use3D?", 0, 0)":")",v.push(x),n.left=0,w[x]=z+g(d,100,-100)+"%"+y,u[x]=z+g(d,-100,100)+"%"+y,r[x]=z+"0"+y):(k.left=0,w.left=g(d,q,-1*q),u.left=g(d,-1*q,q),r.left=0),t=function(a){return function(){return a.isSliding=!1,a.$container.trigger(a.options.eventNames.viewChangeEnd,l),a.queue.length?a.changeView.apply(a,a.queue.shift()):void 0}}(this),s=function(a){return function(){return h(a.$container,["height","overflow","position","width"]),a.$activeView.removeClass(a.options.classNames.activeView),j.addClass(a.options.classNames.activeView),a.$activeView=j,a.options.scrollCallback&&"end"===a.options.scrollOn?a._scrollToTop(t):t()}}(this),m=function(a){return function(){return a.options.resizeHeight?(a.options.maintainViewportHeight&&b.innerHeight>a.lastViewportHeight&&(a.lastViewportHeight=b.innerHeight,$html.css("min-height",a.lastViewportHeight+top+"px")),a.$container.animate({height:e(j)},a.options.heightDuration,a.options.easing,s)):s()}}(this),o=function(a){return function(){return a.$container.css(p),i.css(n),a.$activeView.css(k),j.css(w),j.show(),a.$activeView.animate(u,a.options.duration,a.options.easing,function(){return h(this,v).hide()}),j.animate(r,a.options.duration,a.options.easing,function(){return h(j,v),a.options.concurrentHeightChange?void 0:m()}),a.options.concurrentHeightChange?m():void 0}}(this),this.options.scrollCallback&&"start"===this.options.scrollOn){if(!this.options.concurrentScroll)return this._scrollToTop(o);this._scrollToTop()}return o()}},c.prototype._scrollToTop=function(c){var d;return d=this.options.scrollToContainerTop?this.$container.position().top:0,a(b).scrollTop()>d?this.options.scrollCallback(d,this.options.scrollDuration,c):null!=c?c():void 0},c.prototype.pushView=function(a){return this.changeView(a,"push")},c.prototype.popView=function(a){return this.changeView(a,"pop")},c}(),a.fn.simpleSlideView=function(b,d){return null==b&&(b={}),"object"!=typeof b&&(b={views:b}),"object"==typeof d&&a.extend(b,d),new c(this,b)}}(jQuery,this);