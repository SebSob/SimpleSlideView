!function(){var a,b,c,d,e,f;a="undefined"!=typeof jQuery&&null!==jQuery?jQuery:Zepto,c={views:".view",activeView:null,duration:a.fx.speeds._default,easing:"undefined"!=typeof Zepto&&null!==Zepto?"ease-out":"swing",useTransformProps:"undefined"!=typeof Zepto&&null!==Zepto,use3D:"undefined"!=typeof Modernizr&&null!==Modernizr&&Modernizr.csstransforms3d,cssPrefix:null!=a.fx.cssPrefix?a.fx.cssPrefix:"",resizeHeight:!0,heightDuration:null,deferHeightChange:"undefined"!=typeof Zepto&&null!==Zepto,scrollAfter:null!=a.scrollTo?"scrollTo":!1,dataAttrEvent:"click",dataAttr:{push:"pushview",pop:"popview"},classNames:{container:"SimpleSlideView-container",view:"SimpleSlideView-view",activeView:"SimpleSlideView-view-active"},eventNames:{viewChangeStart:"viewChangeStart",viewChangeEnd:"viewChangeEnd"}},f=function(b,c){var d,e,f,g,h;for(d=a(b),e={},g=0,h=c.length;h>g;g++)f=c[g],e[f]="";return d.css(e)},d=function(b){return null!=a.fn.outerHeight?a(b).outerHeight():a(b).height()},e=function(b){return null!=a.fn.outerWidth?a(b).outerWidth():a(b).width()},b=function(){function b(b,d){this.options=a.extend(!0,{},c,d),this.options.heightDuration||(this.options.heightDuration=this.options.duration),this.$container=a(b),this.$views="string"==typeof this.options.views?this.$container.find(this.options.views):a(this.options.views),this.$activeView=null!=this.options.activeView?a(this.options.activeView):this.$views.first()}return b.prototype.on=function(){var b=this;return this.$container.addClass(this.options.classNames.container),this.$views.addClass(this.options.classNames.view),this.$activeView.addClass(this.options.classNames.activeView),this.$views.not(this.$activeView).css("display","none"),null!=this.options.dataAttrEvent?(this.$container.on(this.options.dataAttrEvent,"[data-"+this.options.dataAttr.push+"]",function(c){var d,e;return d=a(c.currentTarget),e=d.data(b.options.dataAttr.push),e.length||(e=d.attr("href")),e.length?(c.preventDefault(),b.pushView(e)):void 0}),this.$container.on(this.options.dataAttrEvent,"[data-"+this.options.dataAttr.pop+"]",function(c){var d,e;return d=a(c.currentTarget),e=d.data(b.options.dataAttr.pop),e.length||(e=d.attr("href")),e.length?(c.preventDefault(),b.popView(e)):void 0})):void 0},b.prototype.off=function(){return this.$container.removeClass(this.options.classNames.container),this.$views.removeClass(this.options.classNames.view+" "+this.options.classNames.activeView),this.$views.css("display",""),null!=this.options.dataAttrEvent?(this.$container.off(this.options.dataAttrEvent,"[data-"+this.options.dataAttr.push+"]"),this.$container.off(this.options.dataAttrEvent,"[data-"+this.options.dataAttr.pop+"]")):void 0},b.prototype.changeView=function(b,c){var g,h,i,j,k,l,m,n,o,p,q,r,s=this;return this.$container.trigger(this.options.eventNames.viewChangeStart),h=a(b),g=this.$activeView.add(h),l=e(this.$container),n={},m={},o=["left","position","top","width"],this.$container.css({height:d(this.$container),overflow:"hidden",position:"relative",width:"100%"}),g.css({position:"absolute",top:0,width:l}),this.options.useTransformProps?(p=this.options.cssPrefix+"transform",r=this.options.use3D?"translate3d(":"translateX(",q=this.options.use3D?", 0, 0)":")",o.push(p),g.css("left",0),h.css(p,r+(c?100:-100)+"%"+q),n[p]=r+(c?-100:100)+"%"+q,m[p]=r+"0"+q):(this.$activeView.css("left",0),h.css("left",c?l:-1*l),n.left=c?-1*l:l,m.left=0),j=function(){return f(s.$container,["height","overflow","position","width"]),s.$container.trigger(s.options.eventNames.viewChangeEnd)},i=function(){return s.options.resizeHeight?s.$container.animate({height:d(h)},s.options.heightDuration,s.options.easing,j):j()},h.show(),this.$activeView.animate(n,this.options.duration,this.options.easing,function(){return f(this,o).hide()}),h.animate(m,this.options.duration,this.options.easing,function(){return f(h,o),s.options.deferHeightChange?i():void 0}),this.options.scrollAfter&&(k=this.$container.position().top,a(window).scrollTop()>k&&("string"==typeof this.options.scrollAfter&&null!=a[this.options.scrollAfter]?a[this.options.scrollAfter](k):window.scrollTo(0,k))),this.options.deferHeightChange||i(),this.$activeView.removeClass(this.options.classNames.activeView),h.addClass(this.options.classNames.activeView),this.$activeView=h},b.prototype.pushView=function(a){return this.changeView(a,!0)},b.prototype.popView=function(a){return this.changeView(a)},b}(),a.fn.simpleSlideView=function(c,d){return null==c&&(c={}),"object"!=typeof c&&(c={views:c}),"object"==typeof d&&a.extend(c,d),new b(this,c)}}.call(this);