!function(a,b){var c,d,e,f,g,h;e={views:".view",activeView:null,deferOn:!1,duration:null!==a.fx&&null!==a.fx.cssPrefix?a.fx.speeds._default:400,easing:"swing",useTransformProps:!1,use3D:"undefined"!=typeof c&&null!==c&&c.csstransforms3d,cssPrefix:null!==a.fx&&null!==a.fx.cssPrefix?a.fx.cssPrefix:"",resizeHeight:!0,heightDuration:null,concurrentHeightChange:!0,scrollOn:"start",scrollDuration:null,scrollToContainerTop:!0,concurrentScroll:!0,maintainViewportHeight:null,dataAttrEvent:"click",dataAttr:{push:"slideview-push",pop:"slideview-pop",change:"slideview-change"},classNames:{container:"SimpleSlideView-container",view:"SimpleSlideView-view",activeView:"SimpleSlideView-view-active"}},c="undefined"!=typeof b.Modernizr?b.Modernizr:null,e.scrollCallback=function(c,d,e){return null!==a.scrollTo?a.scrollTo(c,d,{axis:"y",onAfter:e}):(b.scrollTo(0,c),e?e():!0)},g=function(b,c){var d,e=c.length,f={},g=a(b);for(d=0;e>d;d++)f[c[d]]="";return g.css(f)},f=function(a,b,c){return b=null===b?!0:b,c=null===c?!1:c,"push"===a?b:c},h=function(){var a=0;return function(b){var c="slideView-";return b.id?b.id:(c+=++a,b.id=c,c)}}(),d=function(c,d){var i,j,k,l=!1,m=!1,n=0,o=[];init=function(a){o=[],l=a,m=!1,j.toggleClass(this.options.classNames.container,a),k.toggleClass(this.options.classNames.view,a),i.toggleClass(this.options.classNames.activeView,a)},this.on=function(){l||(j.trigger("slideViewBeforeOn."+this.namespace),init.call(this,!0),k.not(i).css("display","none"),this.options.maintainViewportHeight&&(n=b.innerHeight),null!==this.options.dataAttrEvent&&(j.on(this.options.dataAttrEvent+"."+this.namespace,"[data-"+this.options.dataAttr.change+"]",a.proxy(this.changeView,this)),j.on(this.options.dataAttrEvent+"."+this.namespace,"[data-"+this.options.dataAttr.push+"]",a.proxy(this.changeView,this)),j.on(this.options.dataAttrEvent+"."+this.namespace,"[data-"+this.options.dataAttr.pop+"]",a.proxy(this.changeView,this))),j.trigger("slideViewOn."+this.namespace))},this.off=function(){return l?(j.trigger("slideViewBeforeOff."+this.namespace),init.call(this,!1),g(this.$views,["display","min-height"]),null!==this.options.dataAttrEvent&&(j.off(this.options.dataAttrEvent+"."+this.namespace,"[data-"+this.options.dataAttr.push+"]"),j.off(this.options.dataAttrEvent+"."+this.namespace,"[data-"+this.options.dataAttr.pop+"]")),this.$container.trigger("slideViewOff."+this.namespace)):void 0},this.toggle=function(a){a=null===a?!l:a,a?this.on():this.off()},this.changeView=function(c,d){var e,h,l,p,q,r,s,t,u,v,w=j.outerWidth(),x={};if(c instanceof a.Event){h=a(c.currentTarget),"A"===h.prop("tagName")&&c.preventDefault();for(var y in this.options.dataAttr)l=h.data(this.options.dataAttr[y]),void 0!==l&&(d=y,e=a(l?l:h.attr("href")))}else e=a(c);if(e.length&&e[0]!==i[0]){if((null===d||"change"===d)&&(d=k.index(i)>k.index(e)?"pop":"push"),m||o.length)return o.push(e,d);if(m=!0,j.trigger("viewChangeStart."+this.namespace,[e,d]),x={activeCSS:{},bothCSS:{position:"absolute",top:0,width:w},containerCSS:{height:j.outerHeight(),overflow:"hidden",position:"relative",width:"100%"},inAnimProps:{},outAnimProps:{},resetProps:["left","position","top","width"],targetCSS:{}},this.options.useTransformProps?(p=this.options.cssPrefix+"transform",q=this.options.use3D?"translate3d(":"translateX(",r=this.options.use3D?", 0, 0)":")",x.bothCSS.left=0,x.resetProps.push(p),x.targetCSS[p]=q+f(d,100,-100)+"%"+r,x.outAnimProps[p]=q+f(d,-100,100)+"%"+r,x.inAnimProps[p]=q+"0"+r):(x.activeCSS.left=0,x.targetCSS.left=f(d,w,-1*w),x.outAnimProps.left=f(d,-1*w,w),x.inAnimProps.left=0),v=a.proxy(function(){return m=!1,j.trigger("viewChangeEnd."+this.namespace,e,d),o.length?this.changeView.apply(this,o.shift()):void 0},this),u=a.proxy(function(){return g(j,["height","overflow","position","width"]),i.removeClass(this.options.classNames.activeView),e.addClass(this.options.classNames.activeView),i=e,this.options.scrollCallback&&"end"===this.options.scrollOn?this.scrollToTop(v):v()},this),s=a.proxy(function(){return this.options.resizeHeight?(this.options.maintainViewportHeight&&b.innerHeight>n&&(n=b.innerHeight,a("html").css("min-height",n+top+"px")),j.animate({height:e.outerHeight()},this.options.heightDuration,this.options.easing,u)):u()},this),t=a.proxy(function(){return j.css(x.containerCSS),i.add(e).css(x.bothCSS),i.css(x.activeCSS),e.css(x.targetCSS),e.show(),i.animate(x.outAnimProps,this.options.duration,this.options.easing,function(){return g(this,x.resetProps).hide()}),e.animate(x.inAnimProps,this.options.duration,this.options.easing,a.proxy(function(){return g(e,x.resetProps),this.options.concurrentHeightChange?void 0:s()},this)),this.options.concurrentHeightChange?s():void 0},this),this.options.scrollCallback&&"start"===this.options.scrollOn){if(!this.options.concurrentScroll)return this.scrollToTop(t);this.scrollToTop()}return t()}},this.scrollToTop=function(c){var d=this.options.scrollToContainerTop?j.position().top:0;return a(b).scrollTop()>d?this.options.scrollCallback(d,this.options.scrollDuration,c):void 0!==c?c():void 0},this.pushView=function(a){return this.changeView(a,"push")},this.popView=function(a){return this.changeView(a,"pop")},this.options=a.extend(!0,{},e,d),null===this.options.heightDuration&&(this.options.heightDuration=this.options.duration),null===this.options.scrollDuration&&(this.options.scrollDuration=this.options.duration),null===this.options.maintainViewportHeight&&(this.options.maintainViewportHeight=this.options.resizeHeight&&this.options.scrollOnStart&&null!==b.innerHeight),j=a(c),k="string"==typeof this.options.views?j.find(this.options.views):a(this.options.views),i=null!==this.options.activeView?a(this.options.activeView):k.first(),this.namespace=h(j),this.options.deferOn?j.trigger("slideViewDeferred."+this.namespace):this.on()},a.fn.simpleSlideView=function(b,c){return b=b||{},"object"!=typeof b?b={views:b}:a.extend(b,c),new d(this,b)}}(jQuery,this);